{% extends "webapp/base.html" %} {% block content %}
<h2 class="mt-4 mb-3">Prediction History</h2>

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>Date</th>
      <th>Name</th>
      <th>Sex</th>
      <th>Age</th>
      <th>Family Size</th>
      <th>Prediction</th>
      <th>Probability</th>
    </tr>
  </thead>

  <tbody>
    {% for record in predictions %}
    <tr>
      <td>{{ record.created_at|date:"Y-m-d H:i" }}</td>
      <td>{{ record.name }}</td>
      <td>{{ record.sex }}</td>
      <td>{{ record.age }}</td>
      <td>{{ record.family_size }}</td>

      <td>
        {% if record.survived_prediction %} Survived {% else %} Did Not Survive
        {% endif %}
      </td>

      <td>{{ record.probability|floatformat:3 }}</td>
    </tr>
    {% empty %}
    <tr>
      <td colspan="7" class="text-center">No predictions yet.</td>
    </tr>
    {% endfor %}
  </tbody>
</table>

{% if is_paginated %}
<div class="d-flex justify-content-between">
  {% if page_obj.has_previous %}
  <a
    href="?page={{ page_obj.previous_page_number }}"
    class="btn btn-outline-secondary"
    >Previous</a
  >
  {% else %}
  <span></span>
  {% endif %}

  <span>Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}</span>

  {% if page_obj.has_next %}
  <a
    href="?page={{ page_obj.next_page_number }}"
    class="btn btn-outline-secondary"
    >Next</a
  >
  {% endif %}
</div>
{% endif %} {% endblock %}
